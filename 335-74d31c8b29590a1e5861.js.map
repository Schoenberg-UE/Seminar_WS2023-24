{"version":3,"file":"335-74d31c8b29590a1e5861.js","mappings":"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","sources":["webpack://schoenberg-letters/./node_modules/mirador/dist/es/src/components/GalleryViewThumbnail.js","webpack://schoenberg-letters/./node_modules/mirador/dist/es/src/containers/GalleryViewThumbnail.js","webpack://schoenberg-letters/./node_modules/mirador/dist/es/src/components/GalleryView.js","webpack://schoenberg-letters/./node_modules/mirador/dist/es/src/containers/GalleryView.js"],"sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { createRef, Component } from 'react';\nimport { styled } from '@mui/material/styles';\nimport Chip from '@mui/material/Chip';\nimport AnnotationIcon from '@mui/icons-material/CommentSharp';\nimport SearchIcon from '@mui/icons-material/SearchSharp';\nimport { InView } from 'react-intersection-observer';\nimport IIIFThumbnail from '../containers/IIIFThumbnail';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Root = styled('div', {\n  name: 'GalleryView',\n  slot: 'thumbnail'\n})(function (_ref) {\n  var ownerState = _ref.ownerState,\n    theme = _ref.theme;\n  return _objectSpread(_objectSpread(_objectSpread({\n    '&:focus': {\n      outline: 'none'\n    },\n    '&:hover': {\n      backgroundColor: theme.palette.action.hover\n    },\n    border: '2px solid transparent'\n  }, ownerState.selected && {\n    borderColor: theme.palette.primary.main\n  }), !ownerState.selected && ownerState.searchAnnotationsCount > 0 && {\n    borderColor: theme.palette.action.selected\n  }), {}, {\n    cursor: 'pointer',\n    display: 'inline-block',\n    margin: theme.spacing(1, 0.5),\n    maxHeight: ownerState.config.height + 45,\n    minWidth: '60px',\n    overflow: 'hidden',\n    padding: theme.spacing(0.5),\n    position: 'relative',\n    width: 'min-content'\n  });\n});\nvar StyledChipsContainer = styled('div', {\n  name: 'GalleryView',\n  slot: 'chipArea'\n})(function (_ref2) {\n  var theme = _ref2.theme;\n  return {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(0.25),\n    position: 'absolute',\n    right: 0,\n    top: 0\n  };\n});\nvar AnnotationChip = styled(Chip, {\n  name: 'GalleryView',\n  slot: 'chip'\n})(function (_ref3) {\n  var theme = _ref3.theme;\n  return {\n    backgroundColor: theme.palette.annotations.chipBackground,\n    opacity: 0.875,\n    textAlign: 'right'\n  };\n});\n\n/**\n * Represents a WindowViewer in the mirador workspace. Responsible for mounting\n * OSD and Navigation\n */\nexport var GalleryViewThumbnail = /*#__PURE__*/function (_Component) {\n  _inherits(GalleryViewThumbnail, _Component);\n  /** */\n  function GalleryViewThumbnail(props) {\n    var _this;\n    _classCallCheck(this, GalleryViewThumbnail);\n    _this = _callSuper(this, GalleryViewThumbnail, [props]);\n    _this.myRef = /*#__PURE__*/createRef();\n    _this.state = {\n      requestedAnnotations: false\n    };\n    _this.handleSelect = _this.handleSelect.bind(_assertThisInitialized(_this));\n    _this.handleKey = _this.handleKey.bind(_assertThisInitialized(_this));\n    _this.handleIntersection = _this.handleIntersection.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  // eslint-disable-next-line require-jsdoc\n  _createClass(GalleryViewThumbnail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var selected = this.props.selected;\n      if (selected) {\n        var _this$myRef$current;\n        (_this$myRef$current = this.myRef.current) === null || _this$myRef$current === void 0 || _this$myRef$current.scrollIntoView(true);\n      }\n    }\n\n    /** @private */\n  }, {\n    key: \"handleSelect\",\n    value: function handleSelect() {\n      var _this$props = this.props,\n        canvas = _this$props.canvas,\n        selected = _this$props.selected,\n        setCanvas = _this$props.setCanvas,\n        focusOnCanvas = _this$props.focusOnCanvas;\n      if (selected) {\n        focusOnCanvas();\n      } else {\n        setCanvas(canvas.id);\n      }\n    }\n\n    /** @private */\n  }, {\n    key: \"handleKey\",\n    value: function handleKey(event) {\n      var _this$props2 = this.props,\n        canvas = _this$props2.canvas,\n        setCanvas = _this$props2.setCanvas,\n        focusOnCanvas = _this$props2.focusOnCanvas;\n      this.keys = {\n        enter: 'Enter',\n        space: ' '\n      };\n      this.chars = {\n        enter: 13,\n        space: 32\n      };\n      var enterOrSpace = event.key === this.keys.enter || event.which === this.chars.enter || event.key === this.keys.space || event.which === this.chars.space;\n      if (enterOrSpace) {\n        focusOnCanvas();\n      } else {\n        setCanvas(canvas.id);\n      }\n    }\n\n    /** */\n  }, {\n    key: \"handleIntersection\",\n    value: function handleIntersection(_inView, _ref4) {\n      var isIntersecting = _ref4.isIntersecting;\n      var _this$props3 = this.props,\n        annotationsCount = _this$props3.annotationsCount,\n        requestCanvasAnnotations = _this$props3.requestCanvasAnnotations;\n      var requestedAnnotations = this.state.requestedAnnotations;\n      if (!isIntersecting || annotationsCount === undefined || annotationsCount > 0 || requestedAnnotations) return;\n      this.setState({\n        requestedAnnotations: true\n      });\n      requestCanvasAnnotations();\n    }\n\n    /**\n     * Renders things\n     */\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        annotationsCount = _this$props4.annotationsCount,\n        searchAnnotationsCount = _this$props4.searchAnnotationsCount,\n        canvas = _this$props4.canvas,\n        config = _this$props4.config,\n        selected = _this$props4.selected;\n      return /*#__PURE__*/_jsx(InView, {\n        onChange: this.handleIntersection,\n        children: /*#__PURE__*/_jsx(Root, {\n          ownerState: this.props,\n          className: selected ? 'selected' : '',\n          onClick: this.handleSelect,\n          onKeyUp: this.handleKey,\n          ref: this.myRef,\n          role: \"button\",\n          tabIndex: 0,\n          children: /*#__PURE__*/_jsx(IIIFThumbnail, {\n            resource: canvas,\n            labelled: true,\n            variant: \"outside\",\n            maxHeight: config.height,\n            maxWidth: config.width,\n            children: /*#__PURE__*/_jsxs(StyledChipsContainer, {\n              children: [searchAnnotationsCount > 0 && /*#__PURE__*/_jsx(AnnotationChip, {\n                icon: /*#__PURE__*/_jsx(SearchIcon, {\n                  fontSize: \"small\"\n                }),\n                label: searchAnnotationsCount,\n                size: \"small\"\n              }), annotationsCount > 0 && /*#__PURE__*/_jsx(AnnotationChip, {\n                icon: /*#__PURE__*/_jsx(AnnotationIcon, {\n                  fontSize: \"small\"\n                }),\n                label: annotationsCount,\n                size: \"small\"\n              })]\n            })\n          })\n        }, canvas.id || canvas.index)\n      });\n    }\n  }]);\n  return GalleryViewThumbnail;\n}(Component);\nGalleryViewThumbnail.defaultProps = {\n  annotationsCount: undefined,\n  config: {\n    height: 100,\n    width: null\n  },\n  requestCanvasAnnotations: function requestCanvasAnnotations() {},\n  searchAnnotationsCount: 0,\n  selected: false\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport flatten from 'lodash/flatten';\nimport * as actions from '../state/actions';\nimport { GalleryViewThumbnail } from '../components/GalleryViewThumbnail';\nimport { getSearchAnnotationsForWindow, getCurrentCanvas, getConfig, getPresentAnnotationsOnSelectedCanvases, getCompanionWindowsForContent } from '../state/selectors';\n\n/** */\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var canvas = _ref.canvas,\n    windowId = _ref.windowId;\n  var currentCanvas = getCurrentCanvas(state, {\n    windowId: windowId\n  });\n  var searchAnnotations = getSearchAnnotationsForWindow(state, {\n    windowId: windowId\n  });\n  var canvasAnnotations = flatten(searchAnnotations.map(function (a) {\n    return a.resources;\n  })).filter(function (a) {\n    return a.targetId === canvas.id;\n  });\n  var hasOpenAnnotationsWindow = getCompanionWindowsForContent(state, {\n    content: 'annotations',\n    windowId: windowId\n  }).length > 0;\n  return {\n    annotationsCount: function () {\n      if (!hasOpenAnnotationsWindow) return undefined;\n      var annotations = getPresentAnnotationsOnSelectedCanvases(state, {\n        canvasId: canvas.id\n      });\n      return annotations.reduce(function (v, a) {\n        return v + a.resources.filter(function (r) {\n          return r.targetId === canvas.id;\n        }).length;\n      }, 0);\n    }(),\n    config: getConfig(state).galleryView,\n    searchAnnotationsCount: canvasAnnotations.length,\n    selected: currentCanvas && currentCanvas.id === canvas.id\n  };\n};\n\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof WindowViewer\n * @private\n */\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var canvas = _ref2.canvas,\n    id = _ref2.id,\n    windowId = _ref2.windowId;\n  return {\n    focusOnCanvas: function focusOnCanvas() {\n      return dispatch(actions.setWindowViewType(windowId, 'single'));\n    },\n    requestCanvasAnnotations: function requestCanvasAnnotations() {\n      return dispatch(actions.requestCanvasAnnotations(windowId, canvas.id));\n    },\n    setCanvas: function setCanvas() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return dispatch(actions.setCanvas.apply(actions, [windowId].concat(args)));\n    }\n  };\n};\nvar enhance = compose(connect(mapStateToProps, mapDispatchToProps)\n// further HOC go here\n);\nexport default enhance(GalleryViewThumbnail);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nimport { Component } from 'react';\nimport { styled } from '@mui/material/styles';\nimport Paper from '@mui/material/Paper';\nimport GalleryViewThumbnail from '../containers/GalleryViewThumbnail';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Root = styled(Paper, {\n  name: 'GalleryView',\n  slot: 'root'\n})(function (_ref) {\n  var theme = _ref.theme;\n  return {\n    alignItems: 'flex-start',\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    overflowX: 'hidden',\n    overflowY: 'scroll',\n    padding: '50px 0 50px 20px',\n    width: '100%'\n  };\n});\n\n/**\n * Renders a GalleryView overview of the manifest.\n */\nexport var GalleryView = /*#__PURE__*/function (_Component) {\n  _inherits(GalleryView, _Component);\n  function GalleryView() {\n    _classCallCheck(this, GalleryView);\n    return _callSuper(this, GalleryView, arguments);\n  }\n  _createClass(GalleryView, [{\n    key: \"render\",\n    value:\n    /**\n     * Renders things\n     */\n    function render() {\n      var _this$props = this.props,\n        canvases = _this$props.canvases,\n        viewingDirection = _this$props.viewingDirection,\n        windowId = _this$props.windowId;\n      var htmlDir = viewingDirection === 'right-to-left' ? 'rtl' : 'ltr';\n      return /*#__PURE__*/_jsx(Root, {\n        component: \"section\",\n        \"aria-label\": \"gallery section\",\n        dir: htmlDir,\n        square: true,\n        elevation: 0,\n        id: \"\".concat(windowId, \"-gallery\"),\n        children: canvases.map(function (canvas) {\n          return /*#__PURE__*/_jsx(GalleryViewThumbnail, {\n            windowId: windowId,\n            canvas: canvas\n          }, canvas.id);\n        })\n      });\n    }\n  }]);\n  return GalleryView;\n}(Component);\nGalleryView.defaultProps = {\n  viewingDirection: ''\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withPlugins } from '../extend/withPlugins';\nimport { GalleryView } from '../components/GalleryView';\nimport { getCanvases, getSequenceViewingDirection } from '../state/selectors';\n\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    canvases: getCanvases(state, {\n      windowId: windowId\n    }),\n    viewingDirection: getSequenceViewingDirection(state, {\n      windowId: windowId\n    })\n  };\n};\nvar enhance = compose(connect(mapStateToProps), withPlugins('GalleryView')\n// further HOC go here\n);\nexport default enhance(GalleryView);"],"names":["_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_callSuper","t","o","e","_getPrototypeOf","self","call","TypeError","_assertThisInitialized","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","Boolean","prototype","valueOf","setPrototypeOf","getPrototypeOf","bind","__proto__","ReferenceError","_setPrototypeOf","p","ownKeys","r","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","value","Symbol","toPrimitive","String","Number","_toPrimitive","Root","styled","name","slot","_ref","ownerState","theme","outline","backgroundColor","palette","action","hover","border","selected","borderColor","primary","main","searchAnnotationsCount","cursor","display","margin","spacing","maxHeight","config","height","minWidth","overflow","padding","position","width","StyledChipsContainer","_ref2","flexDirection","gap","right","top","AnnotationChip","Chip","_ref3","annotations","chipBackground","opacity","textAlign","GalleryViewThumbnail","_Component","_this","instance","Constructor","_classCallCheck","this","myRef","createRef","state","requestedAnnotations","handleSelect","handleKey","handleIntersection","protoProps","staticProps","subClass","superClass","create","_inherits","_this$myRef$current","current","scrollIntoView","_this$props","canvas","setCanvas","focusOnCanvas","id","event","_this$props2","enter","space","chars","which","_inView","_ref4","isIntersecting","_this$props3","annotationsCount","requestCanvasAnnotations","undefined","setState","_this$props4","onChange","children","className","onClick","onKeyUp","ref","role","tabIndex","IIIFThumbnail","resource","labelled","variant","maxWidth","icon","fontSize","label","size","index","Component","defaultProps","enhance","windowId","currentCanvas","searchAnnotations","canvasAnnotations","map","a","resources","targetId","hasOpenAnnotationsWindow","content","canvasId","reduce","v","galleryView","dispatch","_len","args","Array","_key","actions","concat","Paper","alignItems","flexWrap","overflowX","overflowY","GalleryView","canvases","viewingDirection","htmlDir","component","dir","square","elevation","withPlugins"],"sourceRoot":""}